<!DOCTYPE html>
<html>
<head>
	<title></title>

	<style type="text/css">
		#landing {
			padding:5rem 1rem;
			background-image: linear-gradient(to right, rgba(47,181,106,0.5), rgba(47,181,106,0.5)), url("images/food-header.webp");
			background-attachment: fixed;
			background-size: cover;
		}
		#landing .landing-box {
			color:white;
			max-width: 800px;
			margin:auto;
		}
		body {
			margin:0;
			background: white;
			font-family:sans-serif;
		}
		main {
			display: flex;
			width:100%;
		}
		p {
			line-height: 1.5em;
		}
		.container {
			padding:3rem 1rem;
			width:800px;
			margin:0 auto;
		}
		#controls {
			padding:10px;
		}

		.placeholder-graph {
			width:100%;
			margin:2rem 0;
		}

		table {
			border-collapse: collapse;
			width: 100%;
		}
		tr {
			border-bottom: 1px solid #EEE;
		}
		tr:first-child {
			border-bottom: 2px solid #CCC;
		}
		td, th {
			padding: 0.5rem 1rem;
			text-align: left;
		}

		.controls {
			background:white;
			border: 1px solid #EEE;
			padding:1rem;
		}
		.controls h4 {
			margin:0.5rem 0;
		}

		.controls div {
		}
		.controls div > div {
			padding:0.5rem 0;
		}
		.controls input, .controls select {
			width:100%;
		}
		.controls span {
			text-align:right;
			width:30px;
		}
		.controls .range-bubble {
			width:100%;
			display: flex;
			justify-content: space-between;
		}
		
	</style>
</head>
<body>
	<div id="landing">
		<div class="landing-box">
			<h1>Supplemental Nutrition Assistance Program (SNAP)</h1>
		</div>
	</div>
	<div class="container">
		<h2>About</h2>
	<p>SNAP or Suplemental Nutrition Assistance Program, previously called Food Stamps, is the main nationwide program in the USA that helps people afford food. To be eligible for SNAP, people have to be making less than 130% of the Poverty Line.
        </p>
        <p>SNAP Benefits reduce food insecurity for millions. This is thousands of parents who are able to feed their children. This is thousands of elderly who are able 
    to take their medication. Yet, food insecurity is still a major problem throughout the USA, despite what SNAP benefits do. So, we had to ask the question, What would happen
    if SNAP Benefits did more? How many more people would be able to have dinner on their table? How many more people would be lifted 
    from poverty? How many more people would survive?</p>
    <p>This model compares the Poverty Rates, Death Rates, and Hunger Rates of what is happening right now versus what could happen if the upper limit for household income was increased for SNAP benefits.</p>
	
	<div class="placeholder-graph">
		<div class="controls">
			<h4>Controls</h4>
			<div id="form-0">
			<div>
			<label for="threshold">Threshold</label><br>
			<div class="range-bubble">
			<input type="range" name="threshold" min="1.0" max="2" value="1.0" step="0.3">
			<span>1.0</span>
		</div>
			</div>
			<div>
				<label for="bound">Choose a estimation bound:</label><br>
				<select name="bound">
				  <option value="lower">Lower bound</option>
				  <option value="average">Average</option>
				  <option value="upper">Upper bound</option>
				</select>
			</div>
			<div>
				<label for="years">Number of years to model:</label><br>
				<div class="range-bubble">
				<input type="range" name="years" min="5" max="40" value="10" step="5">
			<span>10</span></div>
			</div>
			<button class="submit">Submit</button>
			</div>
		</div>

		<canvas id="canvas-0" width="800" height="600"></canvas>
	</div>
	</div>

	<div class="container">
		<p>	
	</p>
	</div>
<div class="container">
	<h2>Threshold vs. Eligibility</h2>
	<p>The Poverty Line is a measurement created by the Federal Government to determine who is eligible for a variety of programs. It is updated every year and is meant to represent the minimum amount of money a household would need to meet their basic needs.</p>
    <p>These numbers represent the total gross income of a household for an entire year.</p>
	<div class="placeholder-graph">
	</div>
<table>
	<tr>
		<th>Who?</th>
        <th>Deep Poverty (50% of the Poverty Line)</th>
		<th>The Poverty Line</th>
		<th>130% of the Poverty Line</th>
        <th>185% of the Poverty Line</th>
	</tr>
	<tr>
		<td>A Single Person</td>
        <td>$6,440</td>
		<td>$12,880</td>
		<td>$16,744</td>
        <td>$23,828</td>
	</tr>
	<tr>
		<td>A Family of Three</td>
        <td>$10,980</td>
		<td>$21,960</td>
		<td>$28,548</td>
        <td>$40,626</td>
	</tr>
	<tr>
		<td>A Family of Five</td>
        <td>$15,520</td>
		<td>$31,040</td>
		<td>$40,352</td>
        <td>$57,424</td>
	</tr>
</table>

</div>

<div class="container">
	<h2>Hunger</h2>
	<p></p>
	<div class="placeholder-graph">
		<div class="controls">
			<h4>Controls</h4>
			<div id="form-1">
			<div>
                
            <label for="threshold">Choose a threshold:</label><br>

            <select name="threshold">
                    <option value="1.0">1.0</option>
                    <option value="1.3">1.3</option>
                    <option value="1.85">1.85</option>
                    <option value="Everyone">Everyone</option>
            </select>
            <div>

		</div>
			</div>
			<div>
				<label for="bound">Choose a estimation bound:</label>
				<select name="bound">
				  <option value="lower">Lower bound</option>
				  <option value="average">Average</option>
				  <option value="upper">Upper bound</option>
				</select>
			</div>
			<div>
				<label for="years">Number of years to model:</label><br>
				<div class="range-bubble">
				<input type="range" name="years" min="5" max="40" value="10" step="5">
			<span>10</span></div>
			</div>
			<button class="submit">Submit</button>
			</div>
		</div>
		<canvas id="canvas-1" width="800" height="600"></canvas>
	</div>
</div>
    


<div class="container">
	<h2>Poverty</h2>
	<p></p>
	<div class="placeholder-graph">
		<div class="controls">
			<h4>Controls</h4>
			<div id="form-2">
				<div>
                
            <label for="threshold">Choose a threshold:</label><br>

            <select name="threshold">
                    <option value="1.0">1.0</option>
                    <option value="1.3">1.3</option>
                    <option value="1.85">1.85</option>
                    <option value="Everyone">Everyone</option>
            </select>
            <div>
			<div>
				<label for="years">Number of years to model:</label><br>
				<div class="range-bubble">
				<input type="range" name="years" min="5" max="40" value="10" step="5">
			<span>10</span></div>
			</div>
			<button class="submit">Submit</button>
			</div>
		</div>
		<canvas id="canvas-2" width="800" height="600"></canvas>
	</div>
</div>  
</div>  

<div class="container">
	<h2>Mortality</h2>
	<p></p>
	<div class="placeholder-graph">
		<div class="controls">
			<h4>Controls</h4>
			<div id="form-3">
				<div>
                
            <label for="threshold">Choose a threshold:</label><br>

            <select name="threshold">
                    <option value="1.0">1.0</option>
                    <option value="1.3">1.3</option>
                    <option value="1.85">1.85</option>
                    <option value="Everyone">Everyone</option>
            </select>
        </div>
        <div>
				<label for="bound">Choose a estimation bound:</label>
				<select name="bound">
				  <option value="lower">Lower bound</option>
				  <option value="average">Average</option>
				  <option value="upper">Upper bound</option>
				</select>
			</div>
            
			<div>
				<label for="years">Number of years to model:</label><br>
				<div class="range-bubble">
				<input type="range" name="years" min="5" max="40" value="10" step="5">
			<span>10</span></div>
			</div>
			<button class="submit">Submit</button>
			</div>
		</div>
		<h3>Mortality rate per 100k people per year</h3>
		<canvas id="canvas-3" width="800" height="600"></canvas>
	</div>
</div>   
</div> 


<div class="container">
	<h2>Healthcare Spending</h2>
	<p></p>
	<div class="placeholder-graph">
		<div class="controls">
			<h4>Controls</h4>
			<div id="form-4">
				<div>
                
            <label for="threshold">Choose a threshold:</label><br>

            <select name="threshold">
                    <option value="1.0">1.0</option>
                    <option value="1.3">1.3</option>
                    <option value="1.85">1.85</option>
            </select>

            </div>
            <div>
				<label for="bound">Choose a estimation bound:</label>
				<select name="bound">
				  <option value="lower">Lower bound</option>
				  <option value="average">Average</option>
				  <option value="upper">Upper bound</option>
				</select>
			</div>
			<div>
				<label for="years">Number of years to model:</label><br>
				<div class="range-bubble">
				<input type="range" name="years" min="5" max="40" value="10" step="5">
			<span>10</span></div>
			</div>
			<button class="submit">Submit</button>
			</div>
		</div>
		<h3>Healthcare Spending per 100k low income people per year</h3>
		<canvas id="canvas-4" width="800" height="600"></canvas>
	</div>
</div>    
</div>


<div class="container">
    <h2>The Cost</h2>
    <p>SNAP is the most important anti-hunger program in the USA. However, the benefits are surprisingly small. The average SNAP recipient receives about $127 a month, which is $4.17 a day or $1.39 per meal. Because SNAP helped nearly 38 Million people in 2019, SNAP still cost the federal government 63.5 Billion.</p>
    <p>That is only $1,671 per recipient in 2019, or $443 dollars per taxpayer. For reference, the cost for a year of SNAP is about 8.6% of the US's military budget.</p>
    <p>Increasing the cap for SNAP benefits from 130% of the poverty line to 185% of the poverty line would increase the number of people eligible for benefits by at most 66%. Since the amount of benefits depends on how much money a household makes, those who would theoretically be eligible and made between 130% to 185% of the poverty line would be receiving significantly less money than the present SNAP beneficiary.</p>
    <p>Given this, it is estimated that moving the SNAP Cap to 185% of the poverty line would increase the cost of the whole SNAP program by at most 1/3.</p>
</div>

<div class="container">
<h3>Source: </h3>
    <a href="https://www.fns.usda.gov/pd/supplemental-nutrition-assistance-program-snap">General SNAP Information</a><br>
    <a href = "https://www.fns.usda.gov/pd/supplemental-nutrition-assistance-program-snap">Participation and Cost</a><br>
    <a href="https://jordanwjones.com/wp-content/uploads/2019/09/Courtemanche-Gregory-Jones-Marton-2019-The-Impacts-of-SNAP-Participation-on-Mortality-Rates.pdf">SNAP's Effect on Mortality Rates</a><br>
    <a href="https://www.urban.org/sites/default/files/publication/28506/412065-How-Much-Does-SNAP-Reduce-Food-Insecurity-.PDF">SNAP's Effect on Food Insecurity</a><br>
    <a href="https://www.cbpp.org/research/food-assistance/snap-is-linked-with-improved-nutritional-outcomes-and-lower-health-care#:~:text=SNAP%20is%20associated%20with%20improved,long%2Dterm%20health%20as%20adults">SNAP's Effect on Quality of Life</a><br>
    <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6836787/">SNAP's Effects</a><br>
    <a href="https://www.cbpp.org/research/food-assistance/a-quick-guide-to-snap-eligibility-and-benefits">How Much Are SNAP Benefits?</a><br>
    <a href="https://www.census.gov/content/dam/Census/library/publications/2020/demo/acsbr20-01.pdf">Where People Use SNAP</a><br>
    <a href="https://databank.worldbank.org/source/population-estimates-and-projections">Expected US Population Through 2060</a>
    <a href="https://www.ers.usda.gov/amber-waves/2020/august/taking-a-closer-look-at-supplemental-nutrition-assistance-program-snap-participation-and-expenditures/#:~:text=Food%20and%20nutrition%20assistance%20programs%20also%20represent%20a%20significant%20Federal,2013%20following%20the%20Great%20Recession.">SNAP Expenditures</a><br>
</div>
<script type="module">
	import{drawGraph} from "./Graph.mjs";
	import{drawHealthcareSpendingGraph} from "./HealthcareSpendingGraph.mjs";
	import{drawMortalityGraph} from "./MortalityGraph.mjs";
    import{drawFoodInsecurity} from "./FoodInsecurityGraph.mjs";
    import{drawPovertyGraph} from "./PovertyGraph.mjs";


	// Add value labels to all ranges
	const allRanges = document.querySelectorAll(".range-bubble");
	allRanges.forEach(element => {
		let range = element.children[0];
		let bubble = element.children[1];
		range.addEventListener("input", () => {
		  bubble.innerHTML = range.value;
		});
	}
	);

	const allSubmitButtons = document.querySelectorAll(".submit");
	for (let i = 0; i < allSubmitButtons.length; i++) {
		let but = allSubmitButtons[i];
		let form = document.getElementById("form-" + i);
		but.addEventListener("click", function(e) {
			handleForm(i);
		});
	}

	function handleForm(formID) {
		console.log(formID);
		const form = document.getElementById("form-" + formID);
		console.log(form);
		console.log(document.getElementById("canvas-" + formID));
        
        
        
        const years = parseInt(form.querySelector('input[name="years"]').value);
        if(formID == 2){
            drawPovertyGraph("canvas-2",years);
            return false;
        }

		const threshold = form.querySelector('select[name="threshold"]').value;
		const bound = form.querySelector('select[name="bound"]').value;
		
		console.log(threshold);
		console.log(bound);
		console.log(years);

		if(formID == 1){
            var howMuch = .05;
            if(bound == "average"){
                howMuch = .15;
            }
            if(bound == "upper"){
                howMuch = .3;
            }
            drawFoodInsecurity("canvas-1",threshold,howMuch,years);
        }

        else if (formID == 3) {
        	drawMortalityGraph(formID, threshold, bound, years);
        }
        else if (formID == 4) {
        	drawHealthcareSpendingGraph(formID, threshold, bound, years);
        }
		
		//drawGraph("canvas-" + formID, years, eq1, eq2);

		return false;
	}

function repeat(pop) {
	return pop + 1;
}
    
handleForm(1);
handleForm(2);
handleForm(3);
handleForm(4);
</script>
</body>
</html>