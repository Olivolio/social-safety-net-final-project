<!DOCTYPE html>
<html>
<head>
	<title></title>

	<style type="text/css">
		#landing {
			padding:5rem 1rem;
			background-image: linear-gradient(to right, rgba(47,181,106,0.5), rgba(47,181,106,0.5)), url("images/food-header.webp");
			background-attachment: fixed;
			background-size: cover;
		}
		#landing .landing-box {
			color:white;
			max-width: 800px;
			margin:auto;
		}
		body {
			margin:0;
			background: white;
			font-family:sans-serif;
		}
		main {
			display: flex;
			width:100%;
		}
		p {
			line-height: 1.5em;
		}
		.container {
			padding:3rem 1rem;
			width:800px;
			margin:0 auto;
		}
		#controls {
			padding:10px;
		}

		.placeholder-graph {
			width:100%;
			margin:2rem 0;
		}

		table {
			border-collapse: collapse;
			width: 100%;
		}
		tr {
			border-bottom: 1px solid #EEE;
		}
		tr:first-child {
			border-bottom: 2px solid #CCC;
		}
		td, th {
			padding: 0.5rem 1rem;
			text-align: left;
		}

		.controls {
			background:white;
			border: 1px solid #EEE;
			padding:1rem;
		}
		.controls h4 {
			margin:0.5rem 0;
		}

		.controls div {
		}
		.controls div > div {
			padding:0.5rem 0;
		}
		.controls input, .controls select {
			width:100%;
		}
		.controls span {
			text-align:right;
			width:30px;
		}
		.controls .range-bubble {
			width:100%;
			display: flex;
			justify-content: space-between;
		}
		
	</style>
</head>
<body>
	<div id="landing">
		<div class="landing-box">
			<h1>Supplemental Nutrition Assistance Program (SNAP)</h1>
		</div>
	</div>
	<div class="container">
		<h2>About</h2>
	<p>SNAP or Suplemental Nutrition Assistance Program, previously called Food Stamps, is the main nationwide program in the USA that helps people afford food. To be eligible for SNAP, people have to be making less than 130% of the Poverty Line.
        </p>
        <p>SNAP Benefits reduce food insecurity for millions. This is thousands of parents who are able to feed their children. This is thousands of elderly who are able 
    to take their medication. Yet, food insecurity is still a major problem throughout the USA, despite what SNAP benefits do. So, we had to ask the question, What would happen
    if SNAP Benefits did more? How many more people would be able to have dinner on their table? How many more people would be lifted 
    from poverty? How many more people would survive?</p>
    <p>This model compares the Poverty Rates, Death Rates, and Hunger Rates of what is happening right now versus what could happen if the upper limit for household income was increased for SNAP benefits.</p>
	
        <h2>Eligibility</h2>
        <p>The primary modification to SNAP we are exploring is the level of income at which an individual or household is eligible to receive benefits. <b>Throughout this page, we examine the effect of SNAP when only people below a certain threshold are eligible.</b> For instance, a threshold of 1.3 indicates a scenario where only people below 130% of the poverty line are eligible. We can also consider scenarios where the threshold is restricted to 1.0 or expanded to 1.85. 
</p>
<p>This graph demonstrates the number of 100k people that become eligible for SNAP at the current set threshold. It also reflects the population growth over time. <b>The black line represents the current state of SNAP</b>, which is a threshold of 1.3. <b>The red line is the user-set state of SNAP.</b></p>
	<div class="placeholder-graph">
		<div class="controls">
			<h4>Controls</h4>
			<div id="form-0">
			<div>
                
            <label for="threshold">Choose a threshold:</label><br>

            <select name="threshold">
                    <option value="1.0">1.0</option>
                    <option value="1.3">1.3</option>
                    <option value="1.85">1.85</option>
                    <option value="Everyone">Everyone</option>
            </select>
            <div>
			<div>
				<label for="years">Number of years to model:</label><br>
				<div class="range-bubble">
				<input type="range" name="years" min="5" max="40" value="10" step="5">
			<span>10</span></div>
			</div>
			<button class="submit">Submit</button>
			</div>
		</div>

		<canvas id="canvas-0" width="800" height="600"></canvas>
	</div>
	</div>

	<div class="container">
		<p>	
	</p>
	</div>
<div class="container">
	<h2>Threshold vs. Eligibility</h2>
	<p>The Poverty Line is a measurement created by the Federal Government to determine who is eligible for a variety of programs. It is updated every year and is meant to represent the minimum amount of money a household would need to meet their basic needs.</p>
    <p>These numbers represent the total gross income of a household for an entire year.</p>
	<div class="placeholder-graph">
	</div>
<table>
	<tr>
		<th>Who?</th>
        <th>Deep Poverty (50% of the Poverty Line)</th>
		<th>The Poverty Line</th>
		<th>130% of the Poverty Line</th>
        <th>185% of the Poverty Line</th>
	</tr>
	<tr>
		<td>A Single Person</td>
        <td>$6,440</td>
		<td>$12,880</td>
		<td>$16,744</td>
        <td>$23,828</td>
	</tr>
	<tr>
		<td>A Family of Three</td>
        <td>$10,980</td>
		<td>$21,960</td>
		<td>$28,548</td>
        <td>$40,626</td>
	</tr>
	<tr>
		<td>A Family of Five</td>
        <td>$15,520</td>
		<td>$31,040</td>
		<td>$40,352</td>
        <td>$57,424</td>
	</tr>
</table>

</div>

<div class="container">
	<h2>Hunger</h2>
	<p>Food insecurity is defined as "the state of being without reliable access to a sufficient quantity of affordable, nutritious food".(Oxford Dictionary) SNAP is designed to help people suffering from food insecurity. Yet, there are a significant number of people who are food insecure and make more than 130% of the poverty line (which makes them ineligible for SNAP). </p>

<p>The below graph explores how many people would not be food insecure if we changed SNAP in certain key ways, that would be food insecure if SNAP was kept the same. Specifically, we look at raising the income cap so that more people would be eligible. The "Threshold" is what multiple of the poverty line would be the cap for income eligibility. Right now, that cap is at 1.3, what would happen if Congress increased it to 1.85?</p>
<p>
Since calculating exactly how much SNAP affects a person's likelihood of being food insecure is complex, the graph has the option to choose an "Estimate Bound" or how much SNAP affects people's likelihood of being food insecure. The choices are "Lower Bound" or 5%, "Average" or 15%, and "Upper Bound" or 30%.</p>
<p>
Modifying these parameters, along with how many years into the future to look, will show how many people (in the 1,000s) SNAP lifts out of food insecurity.
</p>
	<div class="placeholder-graph">
		<div class="controls">
			<h4>Controls</h4>
			<div id="form-1">
			<div>
                
            <label for="threshold">Choose a threshold:</label><br>

            <select name="threshold">
                    <option value="1.0">1.0</option>
                    <option value="1.3">1.3</option>
                    <option value="1.85">1.85</option>
                    <option value="Everyone">Everyone</option>
            </select>
            <div>

		</div>
			</div>
			<div>
				<label for="bound">Choose a estimation bound:</label>
				<select name="bound">
				  <option value="lower">Lower bound</option>
				  <option value="average">Average</option>
				  <option value="upper">Upper bound</option>
				</select>
			</div>
			<div>
				<label for="years">Number of years to model:</label><br>
				<div class="range-bubble">
				<input type="range" name="years" min="5" max="40" value="10" step="5">
			<span>10</span></div>
			</div>
			<button class="submit">Submit</button>
			</div>
		</div>
		<canvas id="canvas-1" width="800" height="600"></canvas>
	</div>
</div>
    


<div class="container">
	<h2>Poverty</h2>
	<p>In the United States nearly 40.6 million people live in poverty, 10 million of them are children. SNAP helps pull families out of poverty by increasing their food budget. It is estimated that SNAP pulled 3.3 million children, and 7 million people total out of poverty in 2017. </p>
	<p>
The graph below models how many more people we can expect SNAP benefits to help out of poverty in the future.
</p>
	<div class="placeholder-graph">
		<div class="controls">
			<h4>Controls</h4>
			<div id="form-2">
				
            <div>
			<div>
				<label for="years">Number of years to model:</label><br>
				<div class="range-bubble">
				<input type="range" name="years" min="5" max="40" value="10" step="5">
			<span>10</span></div>
			</div>
			<button class="submit">Submit</button>
			</div>
		</div>
		<canvas id="canvas-2" width="800" height="600"></canvas>
	</div>
</div>  
</div>  

<div class="container">
	<h2>Mortality</h2>
	<p>The mortality rate is the number of deaths per 100,000 people. For every 1% increase in the number of SNAP recipients, the mortality rate lowers by 6.68 deaths. The average mortality rate in the US is currently 897 deaths per 100k people and is projected to rise to 1055 deaths per 100k people by 2060. SNAP has been proven to reduce mortality especially in adults by reducing cardiovascular diseases. In addition, there is little evidence it increases obesity rates.
</p>
<p>
Below, we plot the mortality rate (number of deaths per 100k people) over time with the option to change the number of SNAP recipients. The estimation bound ranges between the lower and upper bounds of lives saved: 3.73 and 7.23 respectively.</p>
	<div class="placeholder-graph">
		<div class="controls">
			<h4>Controls</h4>
			<div id="form-3">
				<div>
                
            <label for="threshold">Choose a threshold:</label><br>

            <select name="threshold">
                    <option value="1.0">1.0</option>
                    <option value="1.3">1.3</option>
                    <option value="1.85">1.85</option>
                    <option value="Everyone">Everyone</option>
            </select>
        </div>
        <div>
				<label for="bound">Choose a estimation bound:</label>
				<select name="bound">
				  <option value="lower">Lower bound</option>
				  <option value="average">Average</option>
				  <option value="upper">Upper bound</option>
				</select>
			</div>
            
			<div>
				<label for="years">Number of years to model:</label><br>
				<div class="range-bubble">
				<input type="range" name="years" min="5" max="40" value="10" step="5">
			<span>10</span></div>
			</div>
			<button class="submit">Submit</button>
			</div>
		</div>
		<h3>Mortality rate per 100k people per year</h3>
		<canvas id="canvas-3" width="800" height="600"></canvas>
	</div>
</div>   
</div> 


<div class="container">
	<h2>Healthcare Spending</h2>
	<p>Healthcare spending is the amount of money a single person spends on healthcare, including insurance and out-of-pocket costs. We specifically look at low-income individuals, which we classify as below the threshold of 1.85 times the poverty line, in order to identify how increasing SNAP coverage decreases the total healthcare spending low income individuals do every year. SNAP has long been connected to better health outcomes. Infants have a higher birth rate, adults who have grown up with access to SNAP experience lower rates of obesity and heart disease. These better health outcomes result in fewer nursing home or hospital admissions.
</p>
<p>Below, we plot the healthcare spending per 100k low income individuals per year. Low income individuals who do not participate in SNAP pay an average of $5,831 per year, while low income individuals who do participate in SNAP pay an average of $4,421 per year. There is around a $1,400 difference between the two groups.</p>
	<div class="placeholder-graph">
		<div class="controls">
			<h4>Controls</h4>
			<div id="form-4">
				<div>
                
            <label for="threshold">Choose a threshold:</label><br>

            <select name="threshold">
                    <option value="1.0">1.0</option>
                    <option value="1.3">1.3</option>
                    <option value="1.85">1.85</option>
            </select>

            </div>
            <div>
				<label for="bound">Choose a estimation bound:</label>
				<select name="bound">
				  <option value="lower">Lower bound</option>
				  <option value="average">Average</option>
				  <option value="upper">Upper bound</option>
				</select>
			</div>
			<div>
				<label for="years">Number of years to model:</label><br>
				<div class="range-bubble">
				<input type="range" name="years" min="5" max="40" value="10" step="5">
			<span>10</span></div>
			</div>
			<button class="submit">Submit</button>
			</div>
		</div>
		<h3>Healthcare Spending per 100k low income people per year</h3>
		<canvas id="canvas-4" width="800" height="600"></canvas>
	</div>
</div>    
</div>


<div class="container">
    <h2>The Cost</h2>
    <p>SNAP is the most important anti-hunger program in the USA. However, the benefits are surprisingly small. The average SNAP recipient receives about $127 a month, which is $4.17 a day or $1.39 per meal. Because SNAP helped nearly 38 Million people in 2019, SNAP still cost the federal government 63.5 Billion.</p>
    <p>That is only $1,671 per recipient in 2019, or $443 dollars per taxpayer. For reference, the cost for a year of SNAP is about 8.6% of the US's military budget.</p>
    <p>Increasing the cap for SNAP benefits from 130% of the poverty line to 185% of the poverty line would increase the number of people eligible for benefits by at most 66%. Since the amount of benefits depends on how much money a household makes, those who would theoretically be eligible and made between 130% to 185% of the poverty line would be receiving significantly less money than the present SNAP beneficiary.</p>
    <p>Given this, it is estimated that moving the SNAP Cap to 185% of the poverty line would increase the cost of the whole SNAP program by at most 1/3.</p>
</div>

<div class="container">
<h3>Source: </h3>
    <a href="https://www.fns.usda.gov/pd/supplemental-nutrition-assistance-program-snap">General SNAP Information</a><br>
    <a href = "https://www.fns.usda.gov/pd/supplemental-nutrition-assistance-program-snap">Participation and Cost</a><br>
    <a href="https://jordanwjones.com/wp-content/uploads/2019/09/Courtemanche-Gregory-Jones-Marton-2019-The-Impacts-of-SNAP-Participation-on-Mortality-Rates.pdf">SNAP's Effect on Mortality Rates</a><br>
    <a href="https://www.urban.org/sites/default/files/publication/28506/412065-How-Much-Does-SNAP-Reduce-Food-Insecurity-.PDF">SNAP's Effect on Food Insecurity</a><br>
    <a href="https://www.cbpp.org/research/food-assistance/snap-is-linked-with-improved-nutritional-outcomes-and-lower-health-care#:~:text=SNAP%20is%20associated%20with%20improved,long%2Dterm%20health%20as%20adults">SNAP's Effect on Quality of Life</a><br>
    <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6836787/">SNAP's Effects</a><br>
    <a href="https://www.cbpp.org/research/food-assistance/a-quick-guide-to-snap-eligibility-and-benefits">How Much Are SNAP Benefits?</a><br>
    <a href="https://www.census.gov/content/dam/Census/library/publications/2020/demo/acsbr20-01.pdf">Where People Use SNAP</a><br>
    <a href="https://databank.worldbank.org/source/population-estimates-and-projections">Expected US Population Through 2060</a>
    <a href="https://www.ers.usda.gov/amber-waves/2020/august/taking-a-closer-look-at-supplemental-nutrition-assistance-program-snap-participation-and-expenditures/#:~:text=Food%20and%20nutrition%20assistance%20programs%20also%20represent%20a%20significant%20Federal,2013%20following%20the%20Great%20Recession.">SNAP Expenditures</a><br>
</div>
<script type="module">
	import{drawGraph} from "./Graph.mjs";
	import{drawHealthcareSpendingGraph} from "./HealthcareSpendingGraph.mjs";
	import{drawMortalityGraph} from "./MortalityGraph.mjs";
    import{drawFoodInsecurity} from "./FoodInsecurityGraph.mjs";
    import{drawPovertyGraph} from "./PovertyGraph.mjs";
    import{drawFirstGraph} from "./FirstGraph.mjs";


	// Add value labels to all ranges
	const allRanges = document.querySelectorAll(".range-bubble");
	allRanges.forEach(element => {
		let range = element.children[0];
		let bubble = element.children[1];
		range.addEventListener("input", () => {
		  bubble.innerHTML = range.value;
		});
	}
	);

	const allSubmitButtons = document.querySelectorAll(".submit");
	for (let i = 0; i < allSubmitButtons.length; i++) {
		let but = allSubmitButtons[i];
		let form = document.getElementById("form-" + i);
		but.addEventListener("click", function(e) {
			handleForm(i);
		});
	}

	function handleForm(formID) {
		console.log(formID);
		const form = document.getElementById("form-" + formID);
		console.log(form);
		console.log(document.getElementById("canvas-" + formID));
        
        
        
        const years = parseInt(form.querySelector('input[name="years"]').value);
        if(formID == 2){
            drawPovertyGraph("canvas-2",years);
            return false;
        }
        
        

		const threshold = form.querySelector('select[name="threshold"]').value;
        
        
        if(formID == 0){
            drawFirstGraph("canvas-0",years,threshold);
            return false;
        }
        
        
		const bound = form.querySelector('select[name="bound"]').value;
		
		console.log(threshold);
		console.log(bound);
		console.log(years);

		if(formID == 1){
            var howMuch = .05;
            if(bound == "average"){
                howMuch = .15;
            }
            if(bound == "upper"){
                howMuch = .3;
            }
            drawFoodInsecurity("canvas-1",threshold,howMuch,years);
        }

        else if (formID == 3) {
        	drawMortalityGraph(formID, threshold, bound, years);
        }
        else if (formID == 4) {
        	drawHealthcareSpendingGraph(formID, threshold, bound, years);
        }
		
		//drawGraph("canvas-" + formID, years, eq1, eq2);

		return false;
	}

function repeat(pop) {
	return pop + 1;
}

handleForm(0);
handleForm(1);
handleForm(2);
handleForm(3);
handleForm(4);
</script>
</body>
</html>